name: Yeetor

# Run this workflow every time a new commit pushed to your repository
on:
  push:
    branches:
      - master
      - CI

jobs:
  # Set the job key. The key is displayed as the job name
  # when a job name is not provided
  yeetor:
    # Name the Job
    name: make production build
    # Set the type of machine to run on
    runs-on: ubuntu-latest

    steps:
      # Checks out a copy of your repository on the ubuntu-latest machine
      - name: Checkout code 🛎️
        uses: actions/checkout@v2
        with:
          persist-credentials: false

      - name: Build 🔧 # This example project is built using npm and outputs the result to the 'build' folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.
        run: npx tailwindcss build tailwindStyles.css -c tailwind.config.prod.js | npx clean-css-cli > tailwind.css

      # Runs the Super-Linter action
      - name: Deploy 🚀
        uses: JamesIves/github-pages-deploy-action@3.7.1
        with:
          BRANCH: gh-pages
          FOLDER: . # The folder the action should deploy.
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          CLEAN: true # Automatically remove deleted files from the deploy branch
